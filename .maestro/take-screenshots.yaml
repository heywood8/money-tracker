appId: com.heywood8.monkeep
---
# Wait for language selection screen to fully load
- extendedWaitUntil:
    visible: "Welcome to Penny"
    timeout: 30000

# Screenshot 0: Language selection screen (only captured once, no dark/light variant)
- takeScreenshot: screenshots/00_language_selection

# Select English and continue
- tapOn: "English"
- tapOn: "Continue"

# Wait for main app to load (Operations tab is the default)
- extendedWaitUntil:
    visible: "Operations"
    timeout: 30000

# ============================================
# LIGHT MODE SCREENSHOTS (default)
# ============================================

# Screenshot 1: Operations screen (default first tab)
- takeScreenshot: screenshots/01_operations_light

# Navigate to Graphs tab
- tapOn: "Graphs"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/02_graphs_light

# Navigate to Accounts tab
- tapOn: "Accounts"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/03_accounts_light

# Navigate to Categories tab
- tapOn: "Categories"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/04_categories_light

# ============================================
# LIGHT MODE MODAL SCREENSHOTS
# ============================================

# Settings modal: tap the settings button in the header
- tapOn:
    id: "settings-button"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/05_settings_modal_light

# Close settings modal
- tapOn: "Cancel"
- waitForAnimationToEnd:
    timeout: 2000

# Add Account modal: navigate to Accounts tab, tap the FAB
- tapOn: "Accounts"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn: "Add Account"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/06_add_account_modal_light

# Close add account modal
- tapOn: "Cancel"
- waitForAnimationToEnd:
    timeout: 2000

# Add Category modal: navigate to Categories tab, tap the FAB
- tapOn: "Categories"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn: "Add Category"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/07_add_category_modal_light

# Close add category modal
- tapOn: "Cancel"
- waitForAnimationToEnd:
    timeout: 2000

# ============================================
# SWITCH TO DARK MODE
# ============================================

# Tap the theme toggle button (sun/moon icon in header)
- tapOn:
    id: "theme-toggle-button"

# ============================================
# DARK MODE SCREENSHOTS
# ============================================

# Navigate to Operations tab (gives theme time to propagate)
- tapOn: "Operations"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/01_operations_dark

# Navigate to Graphs tab
- tapOn: "Graphs"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/02_graphs_dark

# Navigate to Accounts tab
- tapOn: "Accounts"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/03_accounts_dark

# Navigate to Categories tab
- tapOn: "Categories"
- waitForAnimationToEnd:
    timeout: 3000
# Scroll slightly to force FlatList to re-render cells with dark theme
# Use larger swipe distance to avoid being interpreted as a tap on a category row
- swipe:
    start: 50%, 70%
    end: 50%, 40%
- swipe:
    start: 50%, 40%
    end: 50%, 70%
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/04_categories_dark

# ============================================
# DARK MODE MODAL SCREENSHOTS
# ============================================

# Settings modal
- tapOn:
    id: "settings-button"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/05_settings_modal_dark

# Close settings modal
- tapOn: "Cancel"
- waitForAnimationToEnd:
    timeout: 2000

# Add Account modal
- tapOn: "Accounts"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn: "Add Account"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/06_add_account_modal_dark

# Close add account modal
- tapOn: "Cancel"
- waitForAnimationToEnd:
    timeout: 2000

# Add Category modal
- tapOn: "Categories"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn: "Add Category"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/07_add_category_modal_dark

# Close add category modal
- tapOn: "Cancel"
- waitForAnimationToEnd:
    timeout: 2000
