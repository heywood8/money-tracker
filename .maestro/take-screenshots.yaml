appId: com.heywood8.monkeep
---
# Wait for language selection screen to fully load
- extendedWaitUntil:
    visible: "Welcome to Penny"
    timeout: 30000

# Screenshot 0: Language selection screen (only captured once, no dark/light variant)
- takeScreenshot: screenshots/00_language_selection

# Select English and continue
- tapOn: "English"
- tapOn: "Continue"

# Wait for main app to load (Operations tab is the default)
- extendedWaitUntil:
    visible: "Operations"
    timeout: 30000

# ============================================
# LIGHT MODE SCREENSHOTS (default)
# ============================================

# Screenshot 1: Operations screen (default first tab)
- takeScreenshot: screenshots/01_operations_light

# Screenshot 1b: Transfer mode of QuickAdd (shows target account shortcuts below calculator)
- tapOn: "Transfer"
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/05_transfer_light

# Screenshot 1c: Multi-currency transfer (select different-currency account, enter amount)
- tapOn: "All accounts"
- waitForAnimationToEnd:
    timeout: 2000
- tapOn: "EUR Cash"
- waitForAnimationToEnd:
    timeout: 2000
- tapOn:
    id: "calc-btn-1"
- tapOn:
    id: "calc-btn-2"
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/06_multicurrency_transfer_light
# Switch back to expense type for the rest of the flow
- tapOn: "Expense"
- waitForAnimationToEnd:
    timeout: 2000

# Navigate to Graphs tab
- tapOn: "Graphs"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/02_graphs_light

# Navigate to Accounts tab
- tapOn: "Accounts"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/03_accounts_light

# Navigate to Categories tab
- tapOn: "Categories"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/04_categories_light

# Navigate to Planned tab
- tapOn: "Planned"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/08_planned_light

# Open Settings modal
- tapOn:
    id: "settings-button"
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/07_settings_light

# Close Settings modal
- tapOn:
    id: "settings-close-button"
- waitForAnimationToEnd:
    timeout: 2000

# ============================================
# SWITCH TO DARK MODE
# ============================================

# Tap the theme toggle button (sun/moon icon in header)
- tapOn:
    id: "theme-toggle-button"

# ============================================
# DARK MODE SCREENSHOTS
# ============================================

# Navigate to Operations tab (gives theme time to propagate)
- tapOn: "Operations"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/01_operations_dark

# Screenshot 5 dark: Transfer mode of QuickAdd
- tapOn: "Transfer"
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/05_transfer_dark

# Screenshot 6 dark: Multi-currency transfer
- tapOn: "All accounts"
- waitForAnimationToEnd:
    timeout: 2000
- tapOn: "EUR Cash"
- waitForAnimationToEnd:
    timeout: 2000
- tapOn:
    id: "calc-btn-1"
- tapOn:
    id: "calc-btn-2"
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/06_multicurrency_transfer_dark
- tapOn: "Expense"
- waitForAnimationToEnd:
    timeout: 2000

# Navigate to Graphs tab
- tapOn: "Graphs"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/02_graphs_dark

# Navigate to Accounts tab
- tapOn: "Accounts"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/03_accounts_dark

# Navigate to Categories tab
- tapOn: "Categories"
- waitForAnimationToEnd:
    timeout: 3000
# Scroll slightly to force FlatList to re-render cells with dark theme
# Use larger swipe distance to avoid being interpreted as a tap on a category row
- swipe:
    start: 50%, 70%
    end: 50%, 40%
- swipe:
    start: 50%, 40%
    end: 50%, 70%
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/04_categories_dark

# Navigate to Planned tab
- tapOn: "Planned"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: screenshots/08_planned_dark

# Open Settings modal
- tapOn:
    id: "settings-button"
- waitForAnimationToEnd:
    timeout: 2000
- takeScreenshot: screenshots/07_settings_dark

# Close Settings modal
- tapOn:
    id: "settings-close-button"
- waitForAnimationToEnd:
    timeout: 2000
